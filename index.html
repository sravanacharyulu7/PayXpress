<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PayXpress – Barcode Scanner</title>
  <link href="https://fonts.googleapis.com/css?family=Poppins:600,400|Roboto+Slab:700,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/@ericblade/quagga2@1.2.6/dist/quagga.min.js"></script> 

</head>
<body>
  <div id="login-container">
    <div class="logo-block">
      <img src="payxpress-logo.png" alt="PayXpress Logo" class="logo">
      <div class="caption">
        <h1>PayXpress</h1>
        <div class="tagline">Scan & Pay</div>
      </div>
    </div>
    <h2>Login to PayXpress</h2>
    <form id="login-form">
      <select id="role">
        <option value="user">User</option>
        <option value="owner">Owner/Officer</option>
      </select>
      <input type="text" id="username" placeholder="Username" required>
      <div class="password-row">
        <input type="password" id="password" placeholder="Password" required>
        <span id="toggle-login-eye" class="eye-icon"></span>
      </div>
      <button type="submit" id="login-btn">Login</button>
      <button type="button" id="open-signup-btn">Sign Up</button>
      <p id="login-error" style="color: #c01f1f; display: none"></p>
    </form>
  </div>

  <div id="signup-modal" style="display:none;">
    <div id="signup-box">
      <h2>Sign Up</h2>
      <form id="signup-form">
        <div style="display:flex; gap:10px; width:100%; justify-content:center;">
          <select id="signup-role">
            <option value="user">User</option>
            <option value="owner">Owner/Officer</option>
          </select>
          <input type="text" id="signup-username" placeholder="New Username" required>
        </div>
        <div class="password-row">
          <input type="password" id="signup-password" placeholder="New Password" required>
          <span id="toggle-signup-eye" class="eye-icon"></span>
        </div>
        <button type="submit" id="signup-btn">Register</button>
        <button type="button" id="close-signup-btn">Cancel</button>
        <p id="signup-error" style="display:none;"></p>
        <p id="signup-success" style="display:none;"></p>
      </form>
    </div>
  </div>

  <div id="user-app" style="display:none">
    <header class="app-header">
      <div class="logo-block">
        <img src="payxpress-logo.png" alt="PayXpress Logo" class="logo">
        <div class="caption">
          <h1>PayXpress</h1>
          <div class="tagline">Scan & Pay</div>
        </div>
      </div>
      <button id="logout-btn" class="logout-btn">Logout</button>
    </header>
    <main>
      <h3>Welcome, User! Hold your products to the camera to scan and get your bill details.</h3>
      <video id="camera-user" autoplay></video> 
      <div id="user-content">
        <div class="product-result" style="padding:15px; border:1px solid #ddd; border-radius:10px;">Ready to scan...</div>
      </div>
    </main>
  </div>

  <div id="owner-app" style="display:none">
    <header class="app-header">
      <div class="logo-block">
        <img src="payxpress-logo.png" alt="PayXpress Logo" class="logo">
        <div class="caption">
          <h1>PayXpress (Owner)</h1>
          <div class="tagline">Add Product Details & Offers</div>
        </div>
      </div>
      <button id="logout-btn" class="logout-btn">Logout</button>
    </header>
    <main>
      <div class="dashboard-main">
        <div class="dashboard-card">
          <h2>Barcode Scanner (Continuous)</h2>
          <video id="camera-owner" class="dashboard-video" autoplay></video>
          <div id="scan-result-owner" class="product-result">Waiting for scan...</div>
        </div>
        <div class="dashboard-card" id="manual-barcode-area">
          <h2>Product Data Entry</h2>
          <p id="product-message-owner" style="margin-bottom:10px;"></p>
          <input type="text" id="barcode-owner" placeholder="Barcode (auto-filled on scan)">
          <input type="number" id="price-owner" placeholder="Price (₹)">
          <input type="number" id="discount-owner" placeholder="Discount (%)">
          <button id="add-btn-owner">Save/Update Product</button>
        </div>
      </div>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
